function resetTurnstile() { var e = "#verify-container"; try { console.log("Trying to reset Turnstile with widgetSelector =", e), e && turnstile && "function" == typeof turnstile.reset ? (turnstile.reset(e), console.log("Turnstile reset")) : console.log("Turnstile or reset function is undefined") } catch (t) { console.error("Error resetting Turnstile:", t) } } function readyCheck() { turnstile.ready(function () { turnstile.render("#verify-container", { sitekey: "0x4AAAAAAASO4bKbM1gXq5hB", callback: function (e) { console.log(`token ${e}`) } }) }) } function handleResponse(e) { $.ajax({ url: "/VerifyToken", type: "POST", contentType: "application/json", dataType: "json", data: JSON.stringify({ token: e, secretKey: "", ip: "" }), success: function (e) { if (!0 === JSON.parse(e.message).success) { let t = new Date; var r = t.getTime() + 12096e5; t.setTime(r); let n = "expires=" + t.toUTCString(); document.cookie = `cfv=true; expires=${n}`, turnstile.remove("#verify-container"), $("#redirect-msg").show(), $("#verify-message").hide(), setTimeout(() => { document.location.href = "/" }, 800) } }, error(e) { console.log(e) } }) } function checkCookieValidity(e) { if ("" !== getCookie(e)) { var t = new Date(getCookieExpiration(e)), r = new Date; return t > r } console.log("\xc7erez bulunamadı.") } function getCookie(e) { for (var t = e + "=", r = decodeURIComponent(document.cookie).split(";"), n = 0; n < r.length; n++) { for (var i = r[n]; " " == i.charAt(0);)i = i.substring(1); if (0 == i.indexOf(t)) return i.substring(t.length, i.length) } return "" } function getCookieExpiration(e) { for (var t = e + "=", r = decodeURIComponent(document.cookie).split(";"), n = 0; n < r.length; n++) { for (var i = r[n]; " " == i.charAt(0);)i = i.substring(1); if (0 == i.indexOf(t)) return i.substring(t.length, i.length).split("=")[1] } return "" } $(document).ready(() => { var e; checkCookieValidity("cfv") && (window.location.href = "/") }), window.onloadTurnstileCallback = function () { turnstile.render("#verify-container", { sitekey: "0x4AAAAAAASO4bKbM1gXq5hB", callback: function (e) { handleResponse(e) } }) };